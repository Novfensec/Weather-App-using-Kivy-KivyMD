<HomeScreenView>:
    id:home_screen
    MDNavigationLayout:
        MDScreenManager:
            id:base_screen_manager
            MDScreen:
                MDStackLayout:
                    size_hint: 1, 1
                    padding: ('4dp', '4dp', '4dp', '1dp')

                    MDBoxLayout:
                        size_hint_x:1
                        adaptive_height:True

                        StyledIconButton:
                            icon: "menu"
                            on_press:nav_drawer.set_state("open")

                        CustomLabel:
                            text: "nfsWeather"
                            color:app.theme_cls.primary_dark

                        MDBoxLayout:
                            AnchorLayout:
                                anchor_x:"right"
                                MDGridLayout:
                                    rows:1
                                    adaptive_size:True
                                    StyledIconButton:
                                        icon: "plus"

                                    StyledIconButton:
                                        icon: "cog"

                    MDBoxLayout:
                        MDScrollView:
                            MDGridLayout:
                                padding: ('5dp', '5dp', '5dp', '5dp')
                                spacing:5
                                size_hint_x:1
                                size_hint_y:None
                                cols:1

                                WeatherCard:
                                    text: "New York"

        BaseNavigationDrawer:
            id: nav_drawer
            radius: (0, 16, 16, 0)
            md_bg_color: app.theme_cls.primary_light
            width: "240dp"
            BaseNavigationLayout:
                size_hint:1,1
                orientation:"vertical"

#:import FadeTransition kivy.uix.screenmanager.FadeTransition

<ExtendedButton>:
    elevation: 3.5
    shadow_radius: 12
    shadow_softness: 4
    height: "36dp"
    text_color:app.theme_cls.primary_dark
    icon_color:self.text_color
    md_bg_color:app.theme_cls.accent_light
    ripple_color:self.md_bg_color

<DrawerClickableItem@MDNavigationDrawerItem>:
    icon:"map-marker"
    focus_color: app.theme_cls.accent_light
    unfocus_color: app.theme_cls.primary_light
    selected_color:app.theme_cls.primary_dark
    text_color:"black"
    ripple_color:app.theme_cls.accent_light

<BaseNavigationLayout>:
    MDBoxLayout:
        adaptive_height:True
        orientation:"vertical"
        padding: ('4dp', '4dp', '4dp', '8dp')
        spacing: '11dp'

        MDAnchorLayout:
            anchor_x: 'left'
            anchor_y: 'top'
            size_hint_y:None
            height:avatar.height

            FitImage:
                id: avatar
                source: "assets/images/favicon.png"
                size_hint: None,None
                size: '65dp','65dp'
                radius:[9]
        Widget:

        CustomLabel:
            font_style:"Body1"
            text: 'Novfensec Inc.'
            color: app.theme_cls.primary_dark

        Widget:

    MDSeparator:

    MDBoxLayout:
        orientation: "vertical"
        adaptive_height: True
        spacing: "9dp"
        padding: "3dp","8dp" , 0, "12dp"

        ExtendedButton:
            id:profile_btn
            text: "Add Profile"
            icon: "plus"
            on_release:self.dropdownmenucallback(profile_btn)

    MDSeparator:

    MDNavigationDrawerMenu:
        id:navigation_drawer_menu

        DrawerClickableItem:
            text:"Delhi"

        DrawerClickableItem:
            text:"New York"

        DrawerClickableItem:
            text:"Moscow"

    MDBoxLayout:
        adaptive_height:True

        ExtendedButton:
            icon:"copyright"
            text:"Novfensec Inc."

<Item>:
    IconLeftWidget:
        icon: root.icon

<WeatherCard>:
    padding: 4
    size_hint: 1, None
    md_bg_color:app.theme_cls.primary_light
    size: "200dp", "100dp"
    ripple_behavior:True
    ripple_color:app.theme_cls.accent_light

    MDRelativeLayout:

        StyledIconButton:
            icon: "dots-vertical"
            pos_hint: {"top": 1, "right": 1}

        CustomLabel:
            id: weather_label
            adaptive_size: True
            font_style:"Body1"
            color:app.theme_cls.primary_color
            text: root.text
            pos_hint:{"top":.7}
            padding: ('7dp', '7dp', '7dp', '7dp')