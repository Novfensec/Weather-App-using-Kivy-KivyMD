<HomeScreenView>:
    id:home_screen
    FitImage:
        source: "assets/images/weather.jpg"
        allow_stretch:True
    MDNavigationLayout:
        MDScreenManager:
            id:base_screen_manager
            MDScreen:
                md_bg_color:0,0,.3,.1
                MDStackLayout:
                    size_hint: 1, 1
                    padding: ('4dp', '4dp', '4dp', '1dp')

                    MDBoxLayout:
                        size_hint_x:1
                        adaptive_height:True
                        md_bg_color:0,0,.3,.5
                        radius:[15]

                        MDIconButton:
                            icon: "menu"
                            theme_icon_color:"Custom"
                            icon_color:"white"
                            icon_size:"29sp"
                            on_press:nav_drawer.set_state("open")

                        MDLabel:
                            font_style:"Body1"
                            text: "nfsWeather"
                            color:"white"
                            font_size:"21sp"

                    MDBoxLayout:
                        MDScrollView:
                            MDGridLayout:
                                padding: ('5dp', '5dp', '5dp', '5dp')
                                spacing:5
                                size_hint_x:1
                                size_hint_y:None
                                cols:1

                                WeatherCard:
                                    text: "New York"

        BaseNavigationDrawer:
            id: nav_drawer
            radius: (0, 16, 16, 0)
            md_bg_color: 0,0,.1,.7
            width: "240dp"
            BaseNavigationLayout:
                size_hint:1,1
                orientation:"vertical"

#:import FadeTransition kivy.uix.screenmanager.FadeTransition

<ExtendedButton>:
    elevation: 3.5
    shadow_radius: 12
    shadow_softness: 4
    height: "36dp"

<DrawerClickableItem@MDNavigationDrawerItem>:
    focus_color: "#e7e4c0"
    unfocus_color: "#fffcf4"

<BaseNavigationLayout>:
    MDBoxLayout:
        adaptive_height:True
        orientation:"vertical"
        padding: ('4dp', '4dp', '4dp', '8dp')
        spacing: '11dp'

        MDAnchorLayout:
            anchor_x: 'left'
            anchor_y: 'top'
            size_hint_y:None
            height:avatar.height

            FitImage:
                id: avatar
                source: "assets/images/favicon.png"
                size_hint: None,None
                size: '75dp','75dp'
                radius:[15]
        Widget:

        MDLabel:
            font_style:"Body1"
            text: 'Novfensec Inc.'
            color: "white"

        Widget:

    MDSeparator:
        color: "white"

    MDBoxLayout:
        orientation: "vertical"
        adaptive_height: True
        spacing: "9dp"
        padding: "3dp","8dp" , 0, "12dp"

        ExtendedButton:
            id:profile_btn
            text: "Add Profile"
            icon: "plus"
            md_bg_color:0,0,.3,1
            on_release:self.dropdownmenucallback(profile_btn)

    MDSeparator:
        color:"white"

    MDNavigationDrawerMenu:
        id:navigation_drawer_menu
        MDGridLayout:
            cols:1
            adaptive_height:True

            OneLineIconListItem:
                text: 'Manage Profiles'
                theme_text_color:"Custom"
                text_color:"white"
                on_press:
                    root.parent.set_state("closed")
                    app.manager_screens.current="weather profiles screen"
                IconLeftWidget:
                    icon:"cog"
                    theme_icon_color:"Custom"
                    icon_color:"white"


<Item>:
    IconLeftWidget:
        icon: root.icon

<WeatherCard>:
    padding: 4
    size_hint: 1, None
    md_bg_color:0,0,.3,.8
    size: "200dp", "100dp"
    ripple_behavior:True

    MDRelativeLayout:

        MDIconButton:
            icon: "dots-vertical"
            pos_hint: {"top": 1, "right": 1}
            theme_icon_color:"Custom"
            icon_color:"white"

        MDLabel:
            id: weather_label
            adaptive_size: True
            font_style:"Body1"
            color: "white"
            text: root.text
            pos_hint:{"top":.7}
            padding: ('7dp', '7dp', '7dp', '7dp')
